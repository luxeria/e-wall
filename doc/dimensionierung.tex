% coding:utf-8

%E-Wall
%Copyright (C) 2013, Daniel Winz, Ervin Mazlagic

%This program is free software; you can redistribute it and/or
%modify it under the terms of the GNU General Public License
%as published by the Free Software Foundation; either version 2
%of the License, or (at your option) any later version.

%This program is distributed in the hope that it will be useful,
%but WITHOUT ANY WARRANTY; without even the implied warranty of
%MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%GNU General Public License for more details.
%----------------------------------------

\section{Dimensionierung}

\subsection{Speisung}
Die Speisung wird mit einer Open Collector Stufe geschaltet. Da bei einem 
Netzteil maximal $1.6 mA$ fliessen wird die Stufe für einen Strom von 
$10 mA$ ausgelegt. 
\[ R_7 = \frac{U_{cc} - U_{CE}}{\frac{ü \cdot I_{PON}}{\beta}} 
= \frac{3 V - 0.7 V}{\frac{3 \cdot 10 mA}{100}} = 7.667 k\Omega 
\Rightarrow 7.5 k\Omega \]

\subsection{Pegelwandler}
Als Pegelwandler für Echo besteht aus einem Spannungsteiler. \\
\begin{tabular}{@{}ll}
  $U_e$ & $= 5 V$ \\
  $U_a$ & $= 3 V$ \\
\end{tabular} \\
Als Querstrom werden $I_q = 100 \mu A$ definiert. 
\[ R_1 = \frac{U_e - U_a}{I_q} = \frac{5 V - 3 V}{100 \mu A} = 20 k\Omega \]
\[ R_2 = \frac{U_a}{I_q} = \frac{3 V}{100 \mu A} = 30 k\Omega \]
Für Trigger besteht der Pegelwandler aus zwei Transistoren im 
Emitterschaltung. 
Der Treiber soll einen Strom von $20 mA$ treiben können. Der Querstrom 
durch R6 wird auf $1 mA$ festgelegt. 
\[ R_6 = \frac{U_{cc} - U_{CE}}{I_{R_6}} = \frac{5 V - 0.2 V}{1 mA} 
= 4.8 k\Omega \Rightarrow 4.7 k\Omega \]
\[ R_5 = \frac{U_{cc} - U_{CE} - U_{BE}}
{\frac{ü \cdot (I_{trigg} + I_ {R_6})}{\beta}}
= \frac{5 V - 0.2 V - 0.7 V}{\frac{3 \cdot (20 mA + 1 mA)}{100}} 
= 6.5 k\Omega \Rightarrow 6.2 k\Omega \]
$R_4$ wird nicht bestückt. 
\[ I_{R_5} = \frac{U_{cc} - U_{CE} - U_{BE}}{R_5} 
= \frac{5 V - 0.2 V - 0.7 V}{6.2 k\Omega} = 661 \mu A \]
\[ R_3 = \frac{U_e - U_{BE}}{\frac{ü \cdot (I_{R_5} + I_{R_4})}{\beta}} 
= \frac{3 V - 0.7 V}{\frac{3 \cdot (661 \mu A)}{100}} = 116 k\Omega 
\Rightarrow 110 k\Omega \]

\subsection{Treiber}
